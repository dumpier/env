<VirtualHost *:80>
  ServerName php74.test
  DocumentRoot /var/www/html/code/php/site-1/public

  <Directory "/var/www/html/code/php">
      <FilesMatch \.(html|php)$>
          # php-fpmサーバーへ処理を譲渡
          SetHandler "proxy:unix:/var/run/php-fpm/php-fpm.sock|fcgi://php7.4-fpm"
      </FilesMatch>
  </Directory>
</VirtualHost>

<VirtualHost *:80>
  ServerName php74-1.test
  DocumentRoot /var/www/html/code/php/site-2/public

  <Directory "/var/www/html/code/php">
      <FilesMatch \.(html|php)$>
          # php-fpmサーバーへ処理を譲渡
          SetHandler "proxy:unix:/var/run/php-fpm/php-fpm.sock|fcgi://php7.4-fpm"
      </FilesMatch>
  </Directory>
</VirtualHost>
